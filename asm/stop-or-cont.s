;======================================================================
;
;======================================================================

;----------------------------------------------------------------------
;			cc65 includes
;----------------------------------------------------------------------
.include "telestrat.inc"

;----------------------------------------------------------------------
;			Orix Kernel includes
;----------------------------------------------------------------------
.include "kernel/src/include/kernel.inc"

;----------------------------------------------------------------------
;				Imports
;----------------------------------------------------------------------

;----------------------------------------------------------------------
;				Exports
;----------------------------------------------------------------------
.export StopOrCont

;----------------------------------------------------------------------
;				Page Zéro
;----------------------------------------------------------------------

;----------------------------------------------------------------------
; Variables et buffers
;----------------------------------------------------------------------

;----------------------------------------------------------------------
; Defines / Constants
;----------------------------------------------------------------------


;----------------------------------------------------------------------
;				Programme
;----------------------------------------------------------------------
.segment "CODE"
.reloc

;----------------------------------------------------------------------
; Entrée:
;
; Sortie:
;
; Variables:
;	Modifiées:
;		-
;	Utilisées:
;		-
; Sous-routines:
;	-
; C=1: CTRL+C
; A mettre dans la librairie
;----------------------------------------------------------------------
.proc StopOrCont
	BRK_KERNEL XRD0
	cmp #$03
	beq stop
	cmp #' '
	bne cont

loop:
	BRK_KERNEL XRD0
	beq loop
	cmp #$03
	beq stop

 cont:
	clc
	.byte $24

 stop:
	sec
	rts
.endproc


